{% include 'layout.html' %}

<div class="container">
    <div class="card">
        <div class="card-header">
             Let's edit your todo!
        </div>
        <div class="card-body">
            <!--THIS MAKES THE FORM DO A POST REQUEST with the submitted form body-->
            <form method="POST">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" name="title" value="{{todo.title}}" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea class="form-control"rows="3" name="description" required>{{todo.description}} </textarea>
                </div>
                <div class="form-group">
                    <label>Priority</label>
                    <select class="form-control" name="priority">
                        <!-- Jinja for loop that sets the default priority based on it's current prio in db-->
                        <option {% if todo.priority == 1 %} selected = "selected" {% endif %}>1</option>
                        <option {% if todo.priority == 2 %} selected = "selected" {% endif %}>2</option>
                        <option {% if todo.priority == 3 %} selected = "selected" {% endif %}>3</option>
                        <option {% if todo.priority == 4 %} selected = "selected" {% endif %}>4</option>
                        <option {% if todo.priority == 5 %} selected = "selected" {% endif %}>5</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Edit todo</button>
                <!--Since it retrieves the todo from the get request it can find the todo with todo.todo_id-->
                <button onclick="window.location.href='/todos/delete/{{todo.todo_id}}'" type="button"
                class="btn btn-danger">Delete</button> 
            </form>
        </div>
    </div>
</div>
